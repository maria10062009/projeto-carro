<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente v4.3 - Full-Stack</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css">
    <link rel="icon" href="imagens/favicon.png" type="image/png">
</head>
<body>
    <div class="app-wrapper">
        <header class="main-header">
            <h1>Garagem Inteligente v4.3</h1>

            <div id="weather-forecast-container" class="painel">
                <div class="weather-city-input-container">
                    <label for="cityInput">Cidade:</label>
                    <input type="text" id="cityInput" placeholder="Digite a cidade">
                    <button id="fetchWeatherBtn" title="Buscar previs√£o para a cidade digitada">Buscar</button>
                    <button id="getGeoLocationWeatherBtn" title="Usar minha localiza√ß√£o atual">üìç Localiza√ß√£o</button>
                </div>
                <h2 id="weather-location-title">Previs√£o para: <span id="weather-city-name">Carregando...</span></h2>
                <div id="current-weather-display">
                    <p class="placeholder-text">Carregando tempo atual...</p>
                </div>
                <div class="weather-forecast-filter-controls">
                    <span>Ver previs√£o para:</span>
                    <button class="filter-btn active" data-days="5" title="Mostrar previs√£o para os pr√≥ximos 5 dias">5 Dias</button>
                    <button class="filter-btn" data-days="3" title="Mostrar previs√£o para os pr√≥ximos 3 dias">3 Dias</button>
                    <button class="filter-btn" data-days="1" title="Mostrar previs√£o apenas para hoje">Hoje</button>
                </div>
                <div class="weather-highlight-controls">
                    <span>Destaques:</span>
                    <label class="highlight-toggle"><input type="checkbox" id="chkHighlightRain"> Chuva üíß</label>
                    <label class="highlight-toggle"><input type="checkbox" id="chkHighlightCold"> Frio (&lt;15¬∞C) ‚ùÑÔ∏è</label>
                    <label class="highlight-toggle"><input type="checkbox" id="chkHighlightHot"> Calor (&gt;28¬∞C) üî•</label>
                </div>
                <div id="weather-forecast-display" class="weather-forecast-items">
                    <p class="placeholder-text">Carregando previs√£o...</p>
                </div>
            </div>

            <nav class="tab-navigation">
                <button class="tab-button active" data-tab="tab-garage">Minha Garagem</button>
                <button class="tab-button" data-tab="tab-add">Adicionar Ve√≠culo</button>
                <button class="tab-button" id="tab-button-details" data-tab="tab-details" disabled>Detalhes do Ve√≠culo</button>
            </nav>

            <div class="volume-control">
                <label for="volumeSlider">Volume:</label>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.5">
            </div>
        </header>

        <main class="tab-content-area">
            <section id="tab-add" class="tab-pane">
                <div class="painel">
                    <h2>Adicionar Novo Ve√≠culo</h2>
                    <form id="formAdicionarVeiculo">
                        <div class="form-grid">
                            <div>
                                <label for="tipoVeiculo">Tipo:</label>
                                <select id="tipoVeiculo" required>
                                    <option value="" disabled selected>-- Selecione --</option>
                                    <option value="Carro">Carro Comum</option>
                                    <option value="CarroEsportivo">Carro Esportivo</option>
                                    <option value="Caminhao">Caminh√£o</option>
                                </select>
                            </div>
                            <div>
                                <label for="modeloVeiculo">Modelo:</label>
                                <input type="text" id="modeloVeiculo" placeholder="Ex: Fusca, Ferrari F40" required>
                            </div>
                            <div>
                                <label for="corVeiculo">Cor:</label>
                                <input type="color" id="corVeiculo" value="#cccccc" title="Clique para escolher a cor">
                            </div>
                            <div id="campoCapacidadeCarga" class="hidden">
                                <label for="capacidadeCarga">Capacidade Carga (kg):</label>
                                <input type="number" id="capacidadeCarga" min="100" value="10000" step="100">
                            </div>
                        </div>
                        <button type="submit" class="botao-principal">Adicionar √† Garagem</button>
                    </form>
                </div>
            </section>
            <section id="tab-garage" class="tab-pane active">
                <div class="painel">
                    <h2>Minha Garagem</h2>
                    <p>Selecione um ve√≠culo abaixo para ver detalhes e interagir:</p>
                    <div id="listaVeiculosGaragem">
                        <p class="placeholder-text">Carregando ve√≠culos...</p>
                    </div>
                </div>
            </section>
            <section id="tab-details" class="tab-pane">
                <div class="painel">
                    <div class="details-header">
                         <h2 id="tituloVeiculo">Detalhes</h2>
                         <button id="btnRemoverVeiculo" class="botao-perigo" title="Remover este ve√≠culo permanentemente" disabled>Remover Ve√≠culo</button>
                    </div>
                    <div id="informacoesVeiculo" class="info-box">
                        <p class="placeholder-text">Selecione um ve√≠culo na aba "Minha Garagem".</p>
                    </div>
                    <hr>
                    <h3>A√ß√µes</h3>
                    <div class="acoes-container">
                        <button id="btnLigar" title="Ligar o ve√≠culo" disabled>Ligar</button>
                        <button id="btnDesligar" title="Desligar o ve√≠culo (somente parado)" disabled>Desligar</button>
                        <button id="btnAcelerar" title="Aumentar a velocidade" disabled>Acelerar</button>
                        <button id="btnFrear" title="Diminuir a velocidade" disabled>Frear</button>
                        <button id="btnBuzinar" title="Buzinar!" disabled>Buzinar üîä</button>
                        <div id="controlesEsportivo" class="controles-especificos hidden">
                            <button id="btnAtivarTurbo" title="Ativar o turbo" disabled>Ativar Turbo üöÄ</button>
                            <button id="btnDesativarTurbo" title="Desativar o turbo" disabled>Desativar Turbo</button>
                        </div>
                        <div id="controlesCaminhao" class="controles-especificos hidden">
                            <label for="cargaInput">Peso Carga (kg):</label>
                            <input type="number" id="cargaInput" value="1000" min="1" step="100" disabled>
                            <button id="btnCarregar" title="Adicionar carga" disabled>Carregar</button>
                            <button id="btnDescarregar" title="Remover carga" disabled>Descarregar</button>
                        </div>
                    </div>
                    <hr>
                    <h3>Manuten√ß√£o</h3>
                    <div class="manutencao-container">
                        <div class="form-manutencao">
                            <h4>Registrar / Agendar</h4>
                            <form id="formManutencao">
                                <label for="dataManutencao">Data:</label>
                                <input type="date" id="dataManutencao" required disabled>
                                <label for="tipoManutencao">Tipo Servi√ßo:</label>
                                <input type="text" id="tipoManutencao" placeholder="Ex: Troca de √≥leo" required disabled>
                                <label for="custoManutencao">Custo (R$):</label>
                                <input type="number" id="custoManutencao" min="0" step="0.01" value="0" required disabled>
                                <label for="descManutencao">Descri√ß√£o (Opcional):</label>
                                <textarea id="descManutencao" rows="2" placeholder="Detalhes..." disabled></textarea>
                                <button type="submit" class="botao-secundario" disabled>Adicionar Registro</button>
                            </form>
                        </div>
                        <div class="historico-agendamento">
                            <h4>Hist√≥rico (Passado)</h4>
                            <ul id="historicoLista"><li class="placeholder-text">Nenhum hist√≥rico.</li></ul>
                            <h4>Agendamentos (Futuro)</h4>
                            <ul id="agendamentosLista"><li class="placeholder-text">Nenhum agendamento.</li></ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <section id="secao-veiculos-destaque" class="painel">
            <h2>Ve√≠culos em Destaque</h2>
            <div id="cards-veiculos-destaque" class="destaques-grid">
                <p class="placeholder-text">Carregando destaques...</p>
            </div>
        </section>

        <section id="secao-servicos" class="painel">
            <h2>Nossos Servi√ßos</h2>
            <ul id="lista-servicos-oferecidos">
                <li class="placeholder-text">Carregando servi√ßos...</li>
            </ul>
        </section>
        
        <footer class="main-footer-credits">
            <p>Garagem Inteligente v4.3 - Desenvolvido com HTML, CSS e JavaScript</p>
        </footer>
    </div>

    <!-- MODAL DE EDI√á√ÉO -->
    <div id="editModal" class="modal-backdrop hidden">
        <div class="modal-content painel">
            <button id="closeEditModalBtn" class="modal-close-btn">&times;</button>
            <h2>Editar Ve√≠culo</h2>
            <form id="formEditarVeiculo">
                <input type="hidden" id="editVeiculoId">
                <div class="form-grid">
                    <div>
                        <label for="editModeloVeiculo">Modelo:</label>
                        <input type="text" id="editModeloVeiculo" placeholder="Ex: Fusca, Ferrari F40" required>
                    </div>
                    <div>
                        <label for="editCorVeiculo">Cor:</label>
                        <input type="color" id="editCorVeiculo" title="Clique para escolher a cor">
                    </div>
                    <!-- Campo de carga para caminh√µes no modal -->
                    <div id="editCampoCapacidadeCarga" class="hidden">
                        <label for="editCapacidadeCarga">Capacidade Carga (kg):</label>
                        <input type="number" id="editCapacidadeCarga" min="100" step="100">
                    </div>
                </div>
                <button type="submit" class="botao-principal">Salvar Altera√ß√µes</button>
            </form>
        </div>
    </div>

    <div id="notificacoes" class="notificacoes-container"></div>

    <audio id="somLigar" src="audio/motor-v8-plymouth-barracuda-encendido-acelerada-marcha-243224.mp3" preload="auto"></audio>
    <audio id="somDesligar" src="audio/tuning-whoosh-108007.mp3" preload="auto"></audio>
    <audio id="somAcelerar" src="audio/acceleration-1-6916.mp3" preload="auto"></audio>
    <audio id="somFrear" src="audio/car-driving-ambience-6365.mp3" preload="auto"></audio>
    <audio id="somBuzina" src="audio/busina.mp3" preload="auto"></audio>
    <audio id="somErro" src="audio/erro.mp3" preload="auto"></audio>

    <script src="manutencao.js"></script>
    <script src="carro.js"></script>
    <script src="caminhao.js"></script>
    <script src="carroesportivo.js"></script>
    <script src="script.js"></script>
</body>
</html>